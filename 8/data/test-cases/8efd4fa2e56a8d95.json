{"uid":"8efd4fa2e56a8d95","name":"test_create_message_with_text_and_attachment","fullName":"test_API#test_create_message_with_text_and_attachment","historyId":"5e587751f2e7d5500e9db88508e8dbcb","time":{"start":1730215291463,"stop":1730215291463,"duration":0},"status":"failed","statusMessage":"AssertionError: Failed to create message: {\"message\": \"401: Unauthorized\", \"code\": 0}\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","statusTrace":"base_url1 = 'https://discord.com/api/v10', channel_id = 1286673475565518878\nheaders = {'Authorization': 'Bot MTI4NjYwOTgxOTEzNzk5ODg4Mw.GmX7uA.SM8jqWeGL8kjPrKvWugZyhYZK5d6j40CGjmB-M', 'Content-Type': 'application/json'}\n\n    @pytest.fixture\n    def message_id(base_url1, channel_id, headers):\n        # Создание сообщения перед каждым тестом\n        url = f\"{base_url1}/channels/{channel_id}/messages\"\n        data = {\n            \"content\": \"Калды Балды.\"\n        }\n        response = requests.post(url, headers=headers, json=data)\n>       assert response.status_code == 200, f\"Failed to create message: {response.text}\"\nE       AssertionError: Failed to create message: {\"message\": \"401: Unauthorized\", \"code\": 0}\nE       assert 401 == 200\nE        +  where 401 = <Response [401]>.status_code\n\nconftest.py:43: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url1","time":{"start":1730215291463,"stop":1730215291463,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"message_id","time":{"start":1730215291464,"stop":1730215291624,"duration":160},"status":"failed","statusMessage":"AssertionError: Failed to create message: {\"message\": \"401: Unauthorized\", \"code\": 0}\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n  File \"/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/runner/work/Test_API_Diploma/Test_API_Diploma/conftest.py\", line 43, in message_id\n    assert response.status_code == 200, f\"Failed to create message: {response.text}\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"channel_id","time":{"start":1730215291464,"stop":1730215291464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"headers","time":{"start":1730215291464,"stop":1730215291464,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"a05ac1ddafd95edb","name":"Request Headers","source":"a05ac1ddafd95edb.txt","type":"text/plain","size":71}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"afterStages":[],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('base_url1', 'channel_id', 'headers', 'message_id')"},{"name":"suite","value":"test_API"},{"name":"host","value":"fv-az1984-468"},{"name":"thread","value":"2062-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_API"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":8},"items":[{"uid":"2dece2521d35123","reportUrl":"https://Neonila96.github.io/Test_API_Diploma/7//#testresult/2dece2521d35123","status":"failed","statusDetails":"AssertionError: Failed to create message: {\"message\": \"401: Unauthorized\", \"code\": 0}\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","time":{"start":1730214929646,"stop":1730214929646,"duration":0}},{"uid":"ee4aa8e340fedfa6","reportUrl":"https://Neonila96.github.io/Test_API_Diploma/6//#testresult/ee4aa8e340fedfa6","status":"broken","statusDetails":"_pytest.fixtures.FixtureLookupError: ('headers', <FixtureRequest for <Function test_create_message_with_text_and_attachment>>)","time":{"start":1730214389039,"stop":1730214389039,"duration":0}},{"uid":"2a8ea3220481dc61","reportUrl":"https://Neonila96.github.io/Test_API_Diploma/5//#testresult/2a8ea3220481dc61","status":"failed","statusDetails":"AssertionError: Failed to create message: {\"message\": \"401: Unauthorized\", \"code\": 0}\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","time":{"start":1730210127209,"stop":1730210127209,"duration":0}},{"uid":"61fb2138c695c50","reportUrl":"https://Neonila96.github.io/Test_API_Diploma/4//#testresult/61fb2138c695c50","status":"failed","statusDetails":"AssertionError: Failed to create message: {\"message\": \"401: Unauthorized\", \"code\": 0}\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","time":{"start":1730210042006,"stop":1730210042006,"duration":0}},{"uid":"4741f2d91458eb27","reportUrl":"https://Neonila96.github.io/Test_API_Diploma/3//#testresult/4741f2d91458eb27","status":"failed","statusDetails":"AssertionError: Failed to create message: {\"message\": \"401: Unauthorized\", \"code\": 0}\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","time":{"start":1730209052685,"stop":1730209052686,"duration":1}},{"uid":"9a266fb7db229045","reportUrl":"https://Neonila96.github.io/Test_API_Diploma/2//#testresult/9a266fb7db229045","status":"failed","statusDetails":"AssertionError: Failed to create message: {\"message\": \"401: Unauthorized\", \"code\": 0}\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","time":{"start":1730208044695,"stop":1730208044695,"duration":0}},{"uid":"7935e1cb1d7ca993","reportUrl":"https://Neonila96.github.io/Test_API_Diploma/1//#testresult/7935e1cb1d7ca993","status":"passed","time":{"start":1730207687284,"stop":1730207687593,"duration":309}}]},"tags":["@pytest.mark.usefixtures('base_url1', 'channel_id', 'headers', 'message_id')"]},"source":"8efd4fa2e56a8d95.json","parameterValues":[]}